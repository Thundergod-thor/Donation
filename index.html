<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Support the Forge</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --accent: #6fb8ff;
  --text: #eef4ff;
  --muted: rgba(238,244,255,.7);
  --glass: rgba(255,255,255,.08);
  --border: rgba(255,255,255,.16);
  --bg: #000;
}

body.light {
  --bg: #eef1f6;
  --text: #111;
  --muted: #444;
  --glass: rgba(0,0,0,.06);
  --border: rgba(0,0,0,.12);
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "IBM Plex Sans", system-ui, sans-serif;
  background:
    radial-gradient(900px 500px at 20% -10%, #101a28, transparent 60%),
    radial-gradient(800px 500px at 90% 10%, #0c1420, transparent 55%),
    var(--bg);
  color: var(--text);
  transition: background .4s, color .4s;
}

/* Premium vignette for light mode */
body.light::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    radial-gradient(420px 220px at 95% 5%, rgba(0,0,0,.25), transparent 60%),
    radial-gradient(600px 300px at 5% 0%, rgba(0,0,0,.18), transparent 70%);
  pointer-events: none;
  z-index: 0;
}

.page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px;
  position: relative;
  z-index: 1;
}

.card {
  width: 100%;
  max-width: 1100px;
  padding: 44px;
  border-radius: 28px;
  background: linear-gradient(
    180deg,
    rgba(255,255,255,.18),
    rgba(255,255,255,.05)
  );
  backdrop-filter: blur(32px) saturate(140%);
  -webkit-backdrop-filter: blur(32px) saturate(140%);
  border: 1px solid var(--border);
  box-shadow:
    0 40px 90px rgba(0,0,0,.75),
    inset 0 1px 0 rgba(255,255,255,.2);
  position: relative;
}

/* ===== REAL TOGGLE SWITCH ===== */
.theme-switch {
  position: absolute;
  top: 18px;
  right: 18px;
  width: 64px;
  height: 32px;
  border-radius: 16px;
  background: var(--glass);
  border: 1px solid var(--border);
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 3px;
}

.switch-thumb {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background: linear-gradient(180deg,#fff,#ddd);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  transition: transform .35s cubic-bezier(.4,0,.2,1);
  box-shadow: 0 4px 10px rgba(0,0,0,.35);
}

body.light .switch-thumb {
  transform: translateX(32px);
}

/* Header */
.header {
  text-align: center;
  margin-bottom: 36px;
}

.main {
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 48px;
}

/* LEFT */
.qr-wrap img {
  width: 100%;
  max-width: 360px;
  border-radius: 22px;
  box-shadow:
    0 30px 60px rgba(0,0,0,.65),
    0 0 30px rgba(111,184,255,.35);
}

.zoom-btn {
  margin-top: 14px;
  display: inline-block;
  padding: 10px 14px;
  border-radius: 12px;
  background: var(--glass);
  border: 1px solid var(--border);
  color: var(--accent);
  cursor: pointer;
  font-size: .85rem;
}

/* RIGHT */
.text {
  display: grid;
  gap: 18px;
  padding-top: 10px;
}

.text p { margin: 0; color: var(--muted); }

.note {
  padding: 16px;
  border-radius: 18px;
  background: var(--glass);
  border: 1px solid var(--border);
}

.note strong { color: var(--accent); }

/* ECG */
.life-box {
  margin-top: 22px;
  height: 180px;
  border-radius: 18px;
  background: linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.12);
  overflow: hidden;
}

body.light .life-box {
  background: linear-gradient(180deg,rgba(220,225,235,.7),rgba(210,215,225,.5));
}

canvas { width: 100%; height: 100%; display: block; }

/* Footer */
.footer {
  margin-top: 28px;
  text-align: center;
  font-size: .8rem;
  color: var(--muted);
}

/* Overlay */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.85);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 50;
}
.overlay.show { display: flex; }
.overlay img {
  width: min(90vw,420px);
  border-radius: 22px;
}

/* Mobile */
@media(max-width:900px) {
  .main { grid-template-columns: 1fr; }
  .text { text-align: center; }
}
</style>
</head>

<body>

<div class="page">
<div class="card">

<!-- WORKING SWITCH -->
<div class="theme-switch" id="themeSwitch">
  <div class="switch-thumb" id="thumb">ðŸŒ™</div>
</div>

<div class="header">
  <h1>Support the Forge</h1>
</div>

<div class="main">

<div class="qr-wrap">
  <img src="donation.jpg">
  <div class="zoom-btn" id="zoomBtn">Expand QR</div>
</div>

<div class="text">
  <p>I maintain custom AOSP ROMs and device ports with long-term stability in mind.</p>
  <p>Donations help cover server costs and continuous maintenance.</p>

  <div class="note">
    <strong>UPI NOTE : @your_tgusername</strong><br>
    Just curious to know who supported me ðŸ˜Š
  </div>

  <div class="life-box">
    <canvas id="ecg"></canvas>
  </div>
</div>

</div>

<div class="footer">
  Forged in open source. Sustained by the community.
</div>

</div>
</div>

<div class="overlay" id="overlay">
  <img src="donation.jpg">
</div>

<script>
/* Theme switch */
const switchEl = document.getElementById("themeSwitch");
const thumb = document.getElementById("thumb");

switchEl.onclick = () => {
  document.body.classList.toggle("light");
  thumb.textContent = document.body.classList.contains("light") ? "â˜€ï¸" : "ðŸŒ™";
};

/* QR Zoom */
const overlay = document.getElementById("overlay");
document.getElementById("zoomBtn").onclick = () => overlay.classList.add("show");
overlay.onclick = () => overlay.classList.remove("show");

/* REAL ECG */
const c = document.getElementById("ecg");
const ctx = c.getContext("2d");
let dpr = window.devicePixelRatio || 1;
let w, h, phase = 0;
let beat = 90, targetBeat = 90;
let amp = 1, targetAmp = 1, base = 0;

function resize(){
  w = c.clientWidth; h = c.clientHeight;
  c.width = w*dpr; c.height = h*dpr;
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
resize(); window.addEventListener("resize", resize);

function wave(t,a){
  if(t<12) return 0;
  if(t<20) return -12*a;
  if(t<24) return 55*a;
  if(t<30) return -22*a;
  if(t<46) return 14*a;
  return 0;
}

function draw(){
  ctx.clearRect(0,0,w,h);

  beat += (targetBeat-beat)*0.02;
  amp += (targetAmp-amp)*0.02;
  base += 0.002;

  ctx.strokeStyle = document.body.classList.contains("light")
    ? "rgba(40,90,160,.95)"
    : "rgba(120,190,255,.95)";
  ctx.lineWidth = 2.3;
  ctx.shadowColor = ctx.strokeStyle;
  ctx.shadowBlur = document.body.classList.contains("light") ? 6 : 18;

  ctx.beginPath();
  for(let x=0;x<w;x++){
    const t=(x+phase)%beat;
    const y=h/2+Math.sin(base)*4+wave(t,amp);
    x===0?ctx.moveTo(x,y):ctx.lineTo(x,y);
  }
  ctx.stroke();

  phase += 1.6;
  if(Math.random()<0.01){
    targetBeat = 82 + Math.random()*14;
    targetAmp = 0.85 + Math.random()*0.3;
  }
  requestAnimationFrame(draw);
}
draw();
</script>

</body>
</html>
